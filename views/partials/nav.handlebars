<nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="#"   style="background-color: var(--rblack);"></a>
    <div id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active Home">
                <a class="nav-link " style="padding-right: 12px;" href="/">Home</a>
            </li>
            <li class="nav-item dropdown ">
                <div class="nav-link dropdown-toggle username dropdown-menu-end" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                </div>
                <div class="dropdown-menu dropdown-menu-end" style="margin: 0; border: 0; padding: 0;" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" style="margin: 0;" href="/profile">My Profile</a>
                    <a class="dropdown-item" href="/create">Create Character</a>    
                    {{#if logged_in}}
                    <a id="logout" class="dropdown-item" href="/">Logout</a>
                    {{else}}
                    <a id="login" class="dropdown-item" href="/login">Log In</a>
                    <a id="signup" class="dropdown-item" href="/signup">Sign Up</a>
                    {{/if}}
                </div>
            </li>
        </ul>
    </div>
</nav>

<script>
  const logout = async () => {
  const response = await fetch('/api/user/logout', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
  });

  if (response.ok) {
    document.location.replace('/');
  } else {
    alert(response.statusText);
  }
};
  
document.querySelector('#logout').addEventListener('click', logout);
</script>